start:
set r0, song
playSong:
	out 601, [r0]
	add r0, 2
	out 602, [r0]
	add r0, 2
	out 603, [r0]
	add r0, 2
	out 604, [r0]
	add r0, 2
	
	out 10, 100		// time between notes, in ms
delay:
	in r1, 10
	jnz delay
	
	cmp r0, songEnd
	jb playSong
	
	out 10, 1000	// time before repeating the song, in ms
delay2:
	in r1, 10
	jnz delay2
	
	jmp start
	
halt:
	jmp halt

//  Ch1 Square  Ch2 Square  Ch3 Sine    Ch4 Noise
//  Note  Vol   Note  Vol   Note  Vol   Note  Vol
song:
db	0x20, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x21, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x23, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x24, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x25, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x26, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x27, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x28, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x29, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x2A, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x2B, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x2C, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x2D, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x2E, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x2F, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
songEnd:
db	0